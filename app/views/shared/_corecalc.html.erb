<% for corereq in d %>
  <% @totalc += corereq.cgoal.to_i %>
  <% totalh += corereq.hgoal.to_i %>
  <% e = corereq.ccourses.all %>
  <% corereqcount = 0 %>
  <%# ------------------------------------------------------%>
  <% for course in e %>
    <% if taken.has_key?(course.department) %>
      <% if taken[course.department].has_key?(course.num.to_s) %>
        <% @used_courses << course.department + " " + course.num.to_s %>

        <% @core_c_1 += 1 %>
        <% corereqcount += 1 %>
      <% end %>
    <% end %>
    <% if taking.has_key?(course.department) %>
      <% if taking[course.department].has_key?(course.num.to_s) %>
        <% @used_courses << course.department + " " + course.num.to_s %>
        <% @core_c_2 += 1 %>
        <% corereqcount += 1 %>
      <% end %>
    <% end %>
    <% if wtake.has_key?(course.department) %>
      <% if wtake[course.department].has_key?(course.num.to_s) %>
        <% @used_courses << course.department + " " + course.num.to_s %>
        <% @core_c_3 += 1 %>
        <% corereqcount += 1 %>
      <% end %>
    <% end %>
  <% end %>
  <% @specialtyHash[:core][corereq.corereqname] = corereqcount %>
<% end %>
<%# ------------------------------------------------------%>


