<% if @totalc != 0 and @totalc != nil%>
  <% if @op_c_1 == nil %>
   <%  @op_c_1 = 0 %>
  <% end %>
  <% if @op_c_2 == nil %>
    <%  @op_c_2 = 0 %>
  <% end %>
  <% if @op_c_3 == nil %>
    <%  @op_c_3 = 0 %>
  <% end %>
  <% if @core_c_1 == nil %>
   <%  @core_c_1 = 0 %>
  <% end %>
  <% if @core_c_2 == nil %>
   <%  @core_c_2 = 0 %>
  <% end %>
  <% if @core_c_3 == nil %>
   <%  @core_c_3 = 0 %>
  <% end %>
  <% @takent =   ((@core_c_1 + @op_c_1) * 100) / @totalc %> 
  <% @takingt = ((@core_c_2 + @op_c_2) * 100) / @totalc %>
  <% @wtaket = ((@core_c_3 + @op_c_3) * 100) / @totalc %>
  <% @need = @totalc - @core_c_1 - @op_c %>
<% else %>
  <% @need = 0 %>
  <% @takent = 0 %>
  <% @takingt = 0 %>
  <% @wtaket = 0 %>
<% end %>